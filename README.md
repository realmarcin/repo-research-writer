# Claude Scientific Writer Skills

A repository-driven agentic framework for automated manuscript generation using Claude Code.

## Overview

This repository contains Claude Code skills for transforming scientific repositories (code, data, notebooks) into publication-ready manuscripts. The system supports multiple journal formats including Nature Methods, PLOS Computational Biology, and Bioinformatics.

## Installation

### Option 1: Clone to Global Skills Directory (Recommended for reuse across projects)

```bash
# Clone to a permanent location
git clone <your-repo-url> ~/claude-scientific-writer

# Create symlinks to global skills directory
mkdir -p ~/.claude/skills
ln -s ~/claude-scientific-writer/.claude/skills/plan-manuscript ~/.claude/skills/plan-manuscript
ln -s ~/claude-scientific-writer/.claude/skills/draft-section ~/.claude/skills/draft-section
ln -s ~/claude-scientific-writer/.claude/skills/review-manuscript ~/.claude/skills/review-manuscript
```

### Option 2: Clone into Existing Project (Project-specific installation)

```bash
# Navigate to your existing project
cd /path/to/your/research/project

# Clone this repo's skills into your project
git clone <your-repo-url> temp-skills
cp -r temp-skills/.claude/skills/* .claude/skills/
rm -rf temp-skills

# Or use git submodule for easier updates
git submodule add <your-repo-url> .claude/scientific-writer
ln -s .claude/scientific-writer/.claude/skills/* .claude/skills/
```

### Option 3: Add as Additional Working Directory

Claude Code supports multiple working directories. Add this repo as an additional directory:

```bash
# Clone to a permanent location
git clone <your-repo-url> ~/claude-scientific-writer

# When starting Claude Code in your project, add this directory
# The skills will be available to your project
```

## Quick Start

### 1. Initialize Your Research Project

First, ensure your project has the necessary directory structure:

```bash
cd /path/to/your/research/project

# Create required directories
mkdir -p data/processed data/raw
mkdir -p figures
mkdir -p scripts
mkdir -p drafts
mkdir -p .claude/skills

# Initialize CLAUDE.md if not exists
touch CLAUDE.md
```

### 2. Use the Skills

Start Claude Code in your research project directory:

```bash
cd /path/to/your/research/project
claude
```

Then use the skills in sequence:

```
1. Plan the manuscript:
   "Use the plan-manuscript skill to create an outline for a PLOS Computational Biology paper"

2. Draft sections:
   "Use the draft-section skill to write the Methods section"
   "Use the draft-section skill to write the Results section"

3. Review the manuscript:
   "Use the review-manuscript skill to check the draft"
```

## Skills Included

### 1. `plan-manuscript`
- Analyzes repository structure
- Maps data files, notebooks, and scripts to manuscript sections
- Generates detailed outline based on target journal (Nature Methods, PLOS, Bioinformatics)
- Creates `manuscript_plan.md`

### 2. `draft-section`
- Drafts specific manuscript sections
- Enforces fact-checking via Python tools
- Maintains consistency between code and text
- Uses subagent delegation (context: fork)

### 3. `review-manuscript`
- Adversarial peer review simulation
- Journal-specific compliance checks
- Citation integrity verification
- Stylistic linting

## Directory Structure

Your research project should follow this structure:

```
your-research-project/
├── .claude/
│   ├── skills/                    # Skills (symlinked or copied)
│   │   ├── plan-manuscript/
│   │   ├── draft-section/
│   │   └── review-manuscript/
│   └── CLAUDE.md                  # Project state and context
├── data/
│   ├── raw/                       # Raw data (excluded from ingestion)
│   └── processed/                 # Processed data (included)
├── scripts/
│   ├── verify_stats.py           # Fact-checking tool (optional)
│   └── lint_manuscript.py        # Prose linter (optional)
├── figures/
│   └── *.png, *.pdf              # Manuscript figures
├── drafts/
│   ├── manuscript_plan.md        # Generated by plan-manuscript
│   └── section_*.md              # Generated by draft-section
├── references.bib                # BibTeX references
└── README.md                     # Project documentation
```

## Supporting Scripts (Optional)

The skills reference Python scripts for enhanced functionality. Create these in your project's `scripts/` directory:

### `scripts/verify_stats.py`
```python
#!/usr/bin/env python3
import argparse
import pandas as pd

parser = argparse.ArgumentParser()
parser.add_argument('--file', required=True)
parser.add_argument('--col', required=True)
parser.add_argument('--op', choices=['mean', 'max', 'min', 'std', 'count'])

args = parser.parse_args()
df = pd.read_csv(args.file)

if args.op == 'mean':
    print(df[args.col].mean())
elif args.op == 'max':
    print(df[args.col].max())
elif args.op == 'min':
    print(df[args.col].min())
elif args.op == 'std':
    print(df[args.col].std())
elif args.op == 'count':
    print(df[args.col].count())
```

## Workflow Example

```bash
# 1. Start in your research project
cd ~/my-research-project

# 2. Ensure skills are available (Option 1 from above)

# 3. Start Claude Code
claude

# 4. In Claude, run the workflow:
# "Use plan-manuscript to create an outline for Nature Methods"
# "Use draft-section to write the Introduction"
# "Use draft-section to write the Results"
# "Use review-manuscript to check compliance"
```

## Updating Skills

If you used symlinks (Option 1), updating is easy:

```bash
cd ~/claude-scientific-writer
git pull origin main
# Skills automatically updated in all projects
```

If you used git submodules (Option 2):

```bash
cd /path/to/your/project
git submodule update --remote .claude/scientific-writer
```

## Architecture

This system implements a hybrid "K-Dense" architecture:
- **Global Context**: CLAUDE.md maintains project state
- **Capability Store**: Skills define atomic actions
- **Execution Layer**: Python tools for deterministic operations
- **Orchestrator**: plan-manuscript manages workflow

See `data/deepresearch.md` for the full technical specification.

## Contributing

Contributions welcome! To add new journal templates or skills:

1. Fork this repository
2. Add new skill directories in `.claude/skills/`
3. Update this README
4. Submit a pull request

## License

[Your chosen license]

## Citation

If you use this system in your research, please cite:
[Your citation format]
